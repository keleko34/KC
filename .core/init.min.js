function CreateModularizer(){function p(b){Object.keys(v).forEach(function(c,h){b[c]||(b[c]=v[c]);b.vm&&b.vm[c+"_binding"]&&(ko.isObservable(b.vm[c+"_binding"])?"array"!==b[c].type()&&"object"!==b[c].type()&&b.vm[c+"_binding"]().toString()!==b[c]().toString()?(b[c](b.vm[c+"_binding"]()),b.vm[c+"_binding"](b[c]())):"array"===b[c].type()&&"object"===b[c].type()&&(b[c](b.vm[c+"_binding"]()),b.vm[c+"_binding"](b[c]())):"array"!==b[c].type()&&"object"!==b[c].type()&&b.vm[c+"_binding"].toString()!==b[c]().toString()?
(b[c](b.vm[c+"_binding"]),b.vm[c+"_binding"]=b[c]()):"array"===b[c].type()&&"object"===b[c].type()&&(b[c](b.vm[c+"_binding"]),b.vm[c+"_binding"]=b[c]()))})}function w(){function b(b){if(void 0===b)return m;if(u[c](b,x)&&(m=n(b),"function"===typeof this.viewmodel&&this.viewmodel()[e+"_binding"]))if(ko.isObservable(this.viewmodel()[e+"_binding"]))if("array"!==c&&"object"!==c&&this.viewmodel()[e+"_binding"]().toString()!==m.toString())this.viewmodel()[e+"_binding"](m);else{if("array"===c&&"object"===
c)this.viewmodel()[e+"_binding"](m)}else"array"!==c&&"object"!==c&&this.viewmodel()[e+"_binding"].toString()!==m.toString()?this.viewmodel()[e+"_binding"]=m:"array"===c&&"object"===c&&(this.viewmodel()[e+"_binding"]=m);return this}var c="string",h=Object.keys(u),e="",m="",n=function(b){return b},x="";b.type=function(d){if(void 0===d)return c;c=u["enum"](d,h)?d:c;return b};b.propName=function(c){if(void 0===c)return e;e=u.string(c)?c:e;return b};b.preprocess=function(c){if(void 0===c)return n;n=u["function"](c)?
c:n;return b};b.checkAgainst=function(c){if(void 0===c)return x;x=c;return b};return b}var u={string:function(b){return"string"===typeof b},number:function(b){return"number"===typeof b},"boolean":function(b){return"boolean"===typeof b},"function":function(b){return"function"===typeof b},object:function(b){return b.constructor.toString()===Object.toString()},array:function(b){return b.constructor.toString()===Array.toString()},instance:function(b,c){return b instanceof c},"enum":function(b,c){return-1<
c.indexOf(b)}},v={};p.add=function(b){v[void 0!==b.name?b.name:"default"]=w().type(void 0!==b.type?b.type:"string").propName(void 0!==b.name?b.name:"default").preprocess(void 0!==b.preprocess?b.preprocess:function(b){return b}).checkAgainst(void 0!==b.checkAgainst?b.checkAgainst:"enum"===b.type?[]:"instance"===b.type?this:"");v[void 0!==b.name?b.name:"default"](void 0!==b.value?b.value:"");return p};return p}var kb;
require(["crossroads","hasher","kb"],function(p,w,u){var v=function(){function b(){function c(g){this.component=g.component;this.key=g.key;this.value=g.value;this.oldvalue=g.oldvalue;this.target=g.target;this.template=g.template;this.event=g.event;this.view_model=g.view_model;this.stopPropogation=function(){this._stopPropogation=!0}}function n(g,a){a.event=g;var b=new c(a),f=0;a:for(;f<r[g].length;f++)if(r[g][f](b),b._stopPropogation)break a}function e(g,a,b){a=a.replace(/(_binding)/g,"");if(void 0!==
g[a+"_binding"]){a:{var f=a;if("function"===typeof g.methods[f])if(ko.isObservable(g[f+"_binding"])?g.methods[f]()!==b&&(g.methods[f](b),g.methods()):void 0!==b&&null!==b&&g.methods[f]().toString()!==b.toString()&&(g.methods[f](b),g.methods()),ko.isObservable(g[f+"_binding"])&&g[f+"_binding"]()!==g.methods[f]()){b=g.methods[f]();break a}else if(void 0!==b&&null!==b){b=g.methods[f]();break a}}if(ko.isObservable(g[a+"_binding"])&&g[a+"_binding"]()!==b)g[a+"_binding"](b);else if(ko.isObservable(g[a+
"_binding"])&&void 0===b&&void 0!==g[a+"_binding"]())g[a+"_binding"](b);else!ko.isObservable(g[a+"_binding"])&&b&&(g[a+"_binding"]=b)}else g[a+"_binding"]="function"!==typeof b?ko.observable(b):b}function d(a,b){Object.keys(b.ko_binds).forEach(function(f){e(a,f,b.ko_binds[f])});Object.keys(a.methods).filter(function(a){return"viewmodel"!==a}).forEach(function(b){d.inject(a,a.Node_Type,b+"_binding",a.methods[b]())});Object.keys(a).forEach(function(b){d.inject(a,a.Node_Type,b)})}ko.override.events.onElement=
function(a){n("element",a)};ko.override.events.onValueAccessor=function(a){n("viewmodel",a)};ko.override.events.onMainClass=function(a){n("main",a)};var l=["textContent","innerHTML"],a=function(a){return Object.keys(HTMLElement.prototype).filter(function(a){return 0===a.indexOf("on")})},q=function(a){return Array.prototype.slice.call(a.attributes).map(function(a){return a.name}).filter(function(a){return"data-bind"!==a})},f=function(a){return a},t={},y={},r={element:[],viewmodel:[],main:[]};d.injector=
function(a){if(void 0===a)return f;"function"===typeof a&&(f=a);return d};d.inject=function(a,b,c,t){ko.isObservable(a[c])&&void 0===y[c]?(a[c]=f(a[c],b,c,a),y[c]=!0):void 0===a[c]&&("function"===typeof t?a[c]=t:(a[c]=ko.observable(t),a[c]=f(a[c],b,c,a),y[c]=!0));return d};d.addListener=function(a,b){"string"===typeof a&&(-1<Object.keys(r).indexOf(a)||"*"===a)&&("*"===a?Object.keys(r).forEach(function(a){r[a].push(b)}):r[a].push(b));return d};d.removeListener=function(a,b){if("string"===typeof a&&
(-1<_eventEnum.indexOf(a)||"*"===a)){var f=function(a){var f=0;a:for(;f<r[a];f++)if(r[a][f].toString()===b.toString()){r[a].splice(f,1);break a}};"*"===a?Object.keys(r).forEach(function(a){f(a)}):f(a)}return d};d.update=function(a){a.view_model.Node.ko_binds[a.key.replace("_binding","")]=a.value;e(a.view_model,a.key,a.value)};d.getDefaults=function(b){b.ko_binds=void 0===b.ko_binds?{}:b.ko_binds;l.concat(a(b)).concat(q(b)).forEach(function(a,f){0===a.indexOf("on")?(b.ko_binds[a.replace("_binding",
"").toLowerCase()]=b[a]||(b.getAttribute(a)?eval("(function(e){"+b.getAttribute(a)+"})"):void 0),b[a]=null,b.removeAttribute(a)):b.ko_binds[a.replace("_binding","").toLowerCase()]=b[a]||b.getAttribute(a);0>l.indexOf(a)&&b.addAttrListener(a,function(a){a.preventDefault();ko.override.events.onElement({key:a.attr,value:a.value,target:b,view_model:b.KViewModel})})});b.addAttrListener("setAttribute",function(a){0===a.argument[0].indexOf("on")&&(a.argument[1]=eval("(function(e){"+b.getAttribute(k)+"})"),
a.preventDefault());ko.override.events.onElement({key:a.argument[0],value:a.argument[1],target:b,view_model:b.KViewModel})});d.binds=function(){return t};return d};define("koBinding",function(){return d});return d}u=CreateKB();u.call();var h=function(){function b(a){this.component=a.component;this.valueAccessor=a.valueAccessor;this.target=a.target;this.template=a.template;this.event=a.event;this.view_model=a.view_model;this.stopPropogation=function(){this._stopPropogation=!0}}function c(a,q){q.event=
a;var f=new b(q),t=0;a:for(;t<l[a].length;t++)if(l[a][t](f),f._stopPropogation)break a}function e(a){var b={};a=a.substr(1).split("&");for(var f=0;f<a.length;f++){var c=a[f].split("=");b[decodeURIComponent(c[0])]=decodeURIComponent(c[1]||"")}return b}function d(){var a=ko.bindingHandlers,b=ko.components;a.component._init=void 0===a.component._init?a.component.init:a.component._init;a.component.init=function(b,c,d,q){ko.override.events.oninit({component:b.nodeName.toLowerCase(),target:b,view_model:q,
valueAcessor:c});void 0!==a.component._init&&a.component._init.apply(this,arguments)};b.loaders.unshift({getConfig:function(a,c){ko.override.load(a,function(){b.defaultLoader.getConfig(a,c);ko.override.events.onconfig({component:a})})},loadViewModel:function(a,c,d){if("function"!==typeof c)return d(null);b.defaultLoader.loadViewModel(a,{createViewModel:function(b,d){var q=d.element;q.KViewModel=new c(b,d.element);ko.override.events.onviewmodel({component:a,view_model:q.KViewModel,target:q});return q.KViewModel}},
d)},loadTemplate:function(a,c,d){"string"!==typeof c&&d(null);ko.override.parsetemplate(c,function(){b.defaultLoader.loadTemplate(a,c,d);ko.override.events.ontemplate({component:a,template:c})})},loadComponent:function(a,c,d){b.defaultLoader.loadComponent(a,c,d)}})}var l={init:[],css:[],config:[],viewmodel:[],template:[]};ko.override={};ko.override.load=function(a,b){if(ko.components.isRegistered(a))b();else{var c=e(location.search),d="/require/"+a,d=void 0!==c.env?d+"?env="+c.env:d,d=void 0!==c.debug?
d+((void 0!==c.env?"&":"?")+"debug="+c.debug):d;require.defined(d)||require([d],function(){b()},function(b){console.error(a," does not exist")})}};ko.override.parsetemplate=function(a,b){var c=(a.match(/(<\/(.*?)>)/g)?a.match(/(<\/(.*?)>)/g):[]).map(function(a,b){return a.substring(2,a.length-1)}).filter(function(a){return document.createElement(a)instanceof HTMLUnknownElement}),d=0;if(1>c.length)return b();for(var e=0;e<c.length;e++)ko.override.load(c[e],function(){d+=1;d===c.length&&b()})};ko.override.events=
{};ko.override.events.oncss=function(a){c("css",a)};ko.override.events.ontemplate=function(a){c("template",a)};ko.override.events.onviewmodel=function(a){c("viewmodel",a)};ko.override.events.onconfig=function(a){c("config",a)};ko.override.events.oninit=function(a){c("init",a)};d.addListener=function(a,b){"string"===typeof a&&(-1<Object.keys(l).indexOf(a)||"*"===a)&&("*"===a?Object.keys(l).forEach(function(a){l[a].push(b)}):l[a].push(b));return d};d.removeListener=function(a,b){if("string"===typeof a&&
(-1<_eventEnum.indexOf(a)||"*"===a)){var c=function(a){var c=0;a:for(;c<l[a];c++)if(l[a][c].toString()===b.toString()){l[a].splice(c,1);break a}};"*"===a?Object.keys(l).forEach(function(a){c(a)}):c(a)}return d};d.parseCss=function(a,b){return a.split(/(.*?{.*?})/g).filter(function(a){return 0<a.length&&"\r\n"!==a&&"\n"!==a}).map(function(a){return a.split(/(.*?)({)(.*?)(})/).filter(function(a){return 0<a.length&&"\r\n"!==a&&"\n"!==a})}).reduce(function(a,c){a[c[0].replace(/\s/g,"")]=4>c.length?"":
c[2].split(/(.*?:.*?;)/).filter(function(a){return 0<a.length&&"\r\n"!==a&&"\n"!==a}).reduce(function(a,d){d=d.substring(2,d.length);a[d.substring(0,d.indexOf(":")).replace(/\s/g,"")]=d.substring(d.indexOf(":")+1,d.indexOf(";"));"function"===typeof b&&b({selector:c[0].replace(/\s/g,""),rule:d.substring(0,d.indexOf(":")).replace(/\s/g,""),value:d.substring(d.indexOf(":")+1,d.indexOf(";"))});return a},{});return a},{})};define("koComponent",function(){return d});return d}(),e=function(){function b(a,
c){var d=ko.pureComputed({read:a,write:c});d(a());return d}function c(a){this.value=a.value;this.oldvalue=a.oldvalue;this.key=a.key;this.component=a.name;this.event=a.event;this.view_model=a.view_model;this.stopPropogation=function(){this._stopPropogation=!0}}function e(a,b,d,m,x,h){b=new c({type:a,value:b,name:m,key:x,view_model:h});d=0;a:for(;d<l[a].length;d++)if(l[a][d](b),b._stopPropogation)break a}function d(){Object.keys(ko.override.extenders).forEach(function(a){ko.extenders[a]=ko.override.extenders[a]})}
var l={update:[],attach:[]};ko.override.extenders={};ko.override.extenders.attach=function(a,c){return b(a,function(b){a(c&&0>b.indexOf(c+" ")?c+" "+b:b);e("attach",c&&0>b.indexOf(c+" ")?c+" "+b:b,a())})};ko.override.extenders.update=function(a,c){return b(a,function(b){a(b);e("update",b,a(),c.name,c.key,c.viewmodel)})};d.addListener=function(a,b){"string"===typeof a&&(-1<Object.keys(l).indexOf(a)||"*"===a)&&("*"===a?Object.keys(l).forEach(function(a){l[a].push(b)}):l[a].push(b));return d};d.removeListener=
function(a,b){if("string"===typeof a&&(-1<_eventEnum.indexOf(a)||"*"===a)){var c=function(a){var c=0;a:for(;c<l[a];c++)if(l[a][c].toString()===b.toString()){l[a].splice(c,1);break a}};"*"===a?Object.keys(l).forEach(function(a){c(a)}):c(a)}return d};d.extendUpdate=function(a,b,c,d){return a.extend({update:{name:b,key:c,viewmodel:d}})};define("koExtend",function(){return d});return d}();h.addListener("init",function(m){m.target.ko_binder=b().injector(e.extendUpdate).addListener("element",function(b){b.target.ko_binds[b.key]=
b.value;b.target.ko_binder.call(null,b.view_model,b.target)}).getDefaults(m.target)}).addListener("viewmodel",function(b){var c=b.view_model.Node.querySelector("style").textContent,c=h.parseCss(c,function(b){});b.target.ko_binder.call(null,b.view_model,b.target);e.addListener("update",b.target.ko_binder.update);}).call();e.call();return{ComponentOverride:h,ExtenderOverride:e}}(),b=function(){function b(h){for(var e=0;e<h.children.length;e++)if(0<h.children[e].clientHeight&&0<h.children[e].clientWidth)return{height:h.children[e].clientHeight,
width:h.children[e].clientWidth};for(var m=[],e=0;e<h.children.length;e++){var n=b(h.children[e]);0<n.height&&0<n.width&&m.push(n)}return m.reduce(function(b,c){b.height=c.height>b.height?c.height:b.height;b.width=c.width>b.width?c.width:b.width;return b},{height:0,width:0})}return{traverseToClosestSizedElement:b,adjustColumnsHeight:function(){document.querySelectorAll(".column").forEach(function(h){h.style.height=b(h).height+"px"})}}}();v.ComponentOverride.addListener("viewmodel",function(){b.adjustColumnsHeight()});
ko.punches.enableAll();ko.applyBindings(function(){function b(c){var m=this,n=Object.keys(c);this.routes=c;this.bindings={};Object.keys(h).forEach(function(b,c){m.bindings[b]=ko.observable(m.fetchRoute(b,"").params)});n.forEach(function(b,d){var l=m.bindings[b];c[b].forEach(function(a,c){p.addRoute(a.url,function(c){m.filterRoutes(b,a.url,function(a,b){if(a)m.bindings[b](ko.utils.extend(JSON.parse(JSON.stringify(c)),a.params))});l(ko.utils.extend(c,a.params))})})});p.normalizeFn=p.NORM_AS_OBJECT;
w.initialized.add(function(b){return p.parse(b)});w.changed.add(function(b){return p.parse(b)});w.init()}var h=page_routes;b.prototype.fetchRoute=function(b,c){for(var h=0;h<this.routes[b].length;h++)if(this.routes[b][h].url===c)return this.routes[b][h]};b.prototype.filterRoutes=function(b,c,h){var p=this;Object.keys(this.routes).filter(function(c,h){return c!==b}).forEach(function(b,e){var a=p.fetchRoute(b,c);h(a,b)})};return new b(h)}().bindings)});
